# 业余无线电考试模拟训练系统

一个功能完善的业余无线电考试练习软件，支持多种学习模式和智能搜题功能。

## 主要功能

### 1. 题库管理

#### 内置题库
- **A级题库**：业余无线电A级考试题库
- **B级题库**：业余无线电B级考试题库
- **C级题库**：业余无线电C级考试题库
- **全部题库**：包含所有等级的完整题库

#### 自定义题库
- 支持导入自定义的txt格式题库文件
- 自动识别题库文件同目录下的`photo`文件夹
- 如果不存在，则使用`TK/photo`目录作为图片文件夹

### 2. 题目显示

#### 题目信息
- **题号**：显示题目的唯一标识（[J]字段）
- **章节**：显示题目所属章节（[P]字段）
- **编号**：显示题目内部编号（[I]字段）
- **问题内容**：完整显示题目问题
- **选项**：显示所有选项（A、B、C、D）

#### 图片支持
- 自动识别题目中的图片标记（[F]字段）
- 支持多种图片格式：`.jpg`、`.png`、`.jpeg`
- 自动调整图片大小以适应界面（最大宽度600px）
- 如果图片文件不存在，会显示错误提示

### 3. 学习模式

#### 顺序刷题模式
- 按照题库顺序逐题练习
- **自动勾选正确答案**：显示题目时自动标记正确答案
- 支持单选题和多选题
- 可以随时查看答案
- 支持上一题/下一题导航

#### 模拟考试模式
- 随机抽取指定数量的题目进行模拟考试
- 自动计时功能
- 支持单选题和多选题答题
- 考试结束后自动评分
- **错题回顾**：显示所有答错的题目和正确答案
- 显示考试用时和得分统计

### 4. 智能搜题功能

#### 关键字搜题
- 在题目内容、选项、题号中搜索关键词
- **大小写不敏感**：不区分大小写
- **近似匹配**：处理容易混淆的字符（l/I/1, O/0等）
- 支持部分匹配

#### 按章节搜题
- 根据章节号搜索题目（如：`1.1.1`）
- **部分匹配**：输入`1.2`可找到所有`1.2.x`的题目
- **大小写不敏感和近似匹配**：支持模糊搜索

#### 按编号搜题
- 搜索题目的内部编号（[I]字段）
- **部分匹配**：输入`MC`可找到所有包含`MC`的编号
- **大小写不敏感和近似匹配**：支持模糊搜索
- 示例：搜索`MC`可找到`MC1-0001`、`MC2-0002`等

#### 搜题特性
- **返回功能**：搜题后可以返回搜题前的状态
- **状态保存**：自动保存搜题前的题目列表和当前位置
- 搜索结果实时显示题目数量

### 5. 答题功能

#### 单选题
- 使用单选按钮（RadioButton）进行选择
- 只能选择一个答案

#### 多选题
- 使用复选框（Checkbox）进行选择
- 可以同时选择多个答案
- 自动识别题目类型（根据答案字段长度）

#### 答案显示
- 点击"显示答案"按钮查看正确答案
- 考试模式下会显示用户答案和正确答案的对比
- 正确显示绿色，错误显示红色

#### 其他操作
- **清除选择**：清除当前题目的所有选择
- **上一题/下一题**：在题目间导航
- 支持键盘快捷键（回车键确认搜索等）

### 6. 界面功能

#### 工具栏
- **导入题库**：选择要加载的题库
- **顺序刷题**：进入顺序刷题模式
- **模拟考试**：开始模拟考试
- **关键字搜题**：打开搜题对话框
- **返回按钮**：从搜题模式返回（仅在搜题模式下显示）

#### 状态栏
- 显示当前模式（顺序刷题、模拟考试、搜索结果等）
- 显示当前题目位置（第X题/共Y题）
- 显示已加载的题目数量

## 题库格式

程序支持以下格式的题库文件：

```
[J]题号
[P]章节号
[I]内部编号
[Q]问题内容
[T]正确答案（如：A 或 AC）
[A]选项A内容
[B]选项B内容
[C]选项C内容
[D]选项D内容
[F]图片文件名（可选，如：LK0497.jpg）
```

### 字段说明
- `[J]`：题号，题目的唯一标识
- `[P]`：章节号，如`1.1.1`、`2.4.1`等
- `[I]`：内部编号，如`MC1-0001`、`MC2-0002`等
- `[Q]`：问题内容
- `[T]`：正确答案，单个字母表示单选题，多个字母表示多选题
- `[A]`、`[B]`、`[C]`、`[D]`：四个选项
- `[F]`：图片文件名（可选），图片应放在`photo`文件夹中

## 文件结构

```
TK/
├── main.py                 # 主程序文件
├── requirements.txt        # 依赖库列表
├── README.md              # 说明文档（本文件）
└── TK/                    # 题库文件夹
    ├── A.txt              # A级题库
    ├── B.txt              # B级题库
    ├── C.txt              # C级题库
    ├── All.txt            # 全部题库
    └── photo/              # 图片文件夹
        ├── sy.txt          # 图片列表（可选，已不使用）
        ├── LK0497.png      # 题目图片
        └── ...             # 其他图片文件
```

## 安装和使用

### 环境要求
- Python 3.9 或更高版本
- Pillow 库（用于图片处理）

### 安装依赖
```bash
pip install -r requirements.txt
```

### 运行程序
```bash
python main.py
```

### 使用步骤
1. **导入题库**：点击"导入题库"按钮，选择要使用的题库
2. **选择学习模式**：
   - 点击"顺序刷题"进行逐题练习
   - 点击"模拟考试"进行模拟考试
   - 点击"关键字搜题"进行题目搜索
3. **答题**：选择答案后可以查看正确答案
4. **导航**：使用"上一题"/"下一题"按钮在题目间切换

## 特色功能

### 1. 智能图片加载
- 自动识别题目中的图片标记
- 支持多种图片格式自动识别
- 智能路径查找（优先使用题库同目录的photo文件夹）

### 2. 近似搜索
- 处理容易混淆的字符：`l`/`I`/`1`、`O`/`0`等
- 大小写不敏感搜索
- 部分匹配支持

### 3. 智能答题
- 自动识别单选/多选题
- 顺序刷题模式自动显示正确答案
- 考试模式支持多选答题

### 4. 完善的考试功能
- 随机选题
- 自动计时
- 详细评分统计
- 错题回顾功能

## 注意事项

1. **题库文件**：确保题库文件格式正确，每个字段占一行
2. **图片文件**：图片文件名必须与题目中的`[F]`字段完全匹配（包括扩展名）
3. **文件编码**：题库文件必须使用UTF-8编码
4. **图片格式**：支持`.jpg`、`.png`、`.jpeg`格式，程序会自动尝试不同扩展名

## 更新日志

### 当前版本功能
- ✅ 支持A/B/C/All四个内置题库和自定义题库
- ✅ 图片自动加载和显示
- ✅ 顺序刷题模式（自动勾选正确答案）
- ✅ 模拟考试模式（计时、评分、错题回顾）
- ✅ 三种搜题方式（关键字、章节、编号）
- ✅ 大小写不敏感和近似字符匹配
- ✅ 搜题返回功能
- ✅ 单选题和多选题支持

## Source of Question Bank（题库来源与勘误）  
**本段为强制保留内容**

题库来源：  
http://www.bjwxdxh.org.cn/（北京无线电协会官方网站）

**勘误说明：**  
原题库压缩包文件名：**1755583768.rar**  
其中《总题库附图标记.pdf》第六行左数第二张图片标注有误：  
- 原标注：`LK060`  
- 正确应为：`LK0603`  

本系统已按正确图片名处理。

## 技术支持

如有问题或建议，请检查：
1. Python版本是否符合要求
2. 依赖库是否正确安装
3. 题库文件格式是否正确
4. 图片文件是否存在且文件名匹配

---

**祝您考试顺利！** 📻



